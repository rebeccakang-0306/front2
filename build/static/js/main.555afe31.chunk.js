(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{145:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(45),l=a.n(c),o=(a(64),a(13)),s=a(7),i=a(46);function u(){return r.a.createElement("nav",null,r.a.createElement(o.b,{exact:!0,to:"/"},"Home"),r.a.createElement(o.b,{to:"/users"}," Users "),r.a.createElement(o.b,{to:"/receipts"}," Receipts "))}a(69),a(70);var m=a(146),p=a(147),d=a(55),h=a(149),f=a(56),E=(a(71),a(72),a(49)),b=a.n(E),g=a(15),v=a(16),O=a(18),j=a(17),y=a(148),w=a(150),S=a(4),N=a(57);function k(e){var t=e.className,a=e.children,n=e.onClick,c=Object(N.a)(e,["className","children","onClick"]);return r.a.createElement("div",Object.assign({className:"btn ".concat(t),onClick:n},c),a)}function C(){var e=Object(n.useState)(""),t=Object(S.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(S.a)(l,2),s=o[0],i=o[1],u=Object(n.useState)(""),m=Object(S.a)(u,2),p=m[0],d=m[1],h=Object(n.useState)(""),f=Object(S.a)(h,2),E=f[0],b=f[1];return r.a.createElement("div",{className:"addAuthor"},"Add New User",r.a.createElement("form",null,r.a.createElement("input",{type:"text",placeholder:"Username",name:"username",value:a,onChange:function(e){c(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"Password",name:"password",value:s,onChange:function(e){i(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"First Name",name:"firstname",value:p,onChange:function(e){d(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"Last Name",name:"lastname",value:E,onChange:function(e){b(e.target.value)}}),r.a.createElement(k,{className:"btn-success",onClick:function(){!function(e){var t=e.username,a=e.password,n=e.firstname,r=e.lastname;if(!t||!a||!n||!r)return void alert("must include all fields");fetch(A+"/insert-user/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:a,firstname:n,lastname:r})}).then((function(e){400===e.status?alert("Username exists!"):window.location.reload(!0)}))}({username:a,password:s,firstname:p,lastname:E})}},"Save")))}a(26);var x=a(19),U=a.n(x),_=a(24),D=a(20),T=function(e){Object(O.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state={error:null,isLoaded:!1,users:[]},n}return Object(v.a)(a,[{key:"fetchUsers",value:function(){var e=Object(_.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:t=e.sent,this.setState({users:t,isLoaded:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchUsers()}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoaded,n=e.users;return t?r.a.createElement("div",null,"Error: ",t.message):a?r.a.createElement("div",null,r.a.createElement(D.Table,{className:"user-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"User First Name"),r.a.createElement("th",{scope:"col"},"User Last Name"),r.a.createElement("th",{scope:"col"},"Username"),r.a.createElement("th",{scope:"col"},"Update"))),r.a.createElement("tbody",null,n.map((function(e){return r.a.createElement(D.Tr,{active:!0,key:e._id},r.a.createElement("td",null,e.firstname),r.a.createElement("td",null,e.lastname),r.a.createElement("td",null,e.username),r.a.createElement("td",null,r.a.createElement(I,Object.assign({key:e._id},e))," "))}))))):r.a.createElement("div",null,"Loading...")}}]),a}(r.a.Component);function L(){var e=function(){var e=Object(n.useState)(!0),t=Object(S.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),l=Object(S.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)(null),u=Object(S.a)(i,2),m=u[0],p=u[1];return Object(n.useEffect)((function(){M().then((function(e){s(e),r(!1)})).catch((function(e){console.log(e),p(e),r(!1)}))}),[]),{loading:a,users:o,error:m}}(),t=e.loading,a=e.users,c=e.error;return t?r.a.createElement("p",null,"Loading..."):c?r.a.createElement("p",null,"Something went wrong: ",c.message):(console.log(a),r.a.createElement("div",null,r.a.createElement("h1",null,"User Management"),r.a.createElement(C,null),r.a.createElement(T,null)))}function I(e){var t=e._id,a=Object(n.useState)(!1),c=Object(S.a)(a,2),l=c[0],o=c[1];return r.a.createElement("div",{className:"user user-".concat(t),key:t},r.a.createElement("div",{className:"info"},r.a.createElement(k,{className:"btn",onClick:function(){return o(!l)}},l?"-":"+")),r.a.createElement(P,Object.assign({},e,{showUpdate:l})))}function P(e){var t=e._id,a=e.firstname,c=e.lastname,l=e.username,o=e.password,s=e.showUpdate,i=Object(n.useState)(t),u=Object(S.a)(i,2),m=u[0],p=(u[1],Object(n.useState)(a)),d=Object(S.a)(p,2),h=d[0],f=d[1],E=Object(n.useState)(c),b=Object(S.a)(E,2),g=b[0],v=b[1],O=Object(n.useState)(l),j=Object(S.a)(O,2),y=j[0],w=j[1],N=Object(n.useState)(o),C=Object(S.a)(N,2),x=C[0];C[1];return r.a.createElement("div",{className:"author-expand ".concat(s?"show":"")},r.a.createElement("form",{className:"update-form"},r.a.createElement("input",{type:"text",name:"first_name",value:h,onChange:function(e){f(e.target.value)}}),r.a.createElement("input",{type:"text",name:"last_name",value:g,onChange:function(e){v(e.target.value)}}),r.a.createElement("input",{type:"text",name:"username",value:y,onChange:function(e){w(e.target.value)}}),r.a.createElement(k,{className:"btn-warning",onClick:function(){!function(e){var t=e._id,a=e.firstname,n=e.lastname,r=e.username,c=e.password;if(!t)return void alert("must include an id");if(!a||!n)return void alert("must include a first name or last name to update");if(!r||!c)return void alert("Invalid username or password submitted");var l=A+"/update-user-info/".concat(t);fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:t,firstname:a,lastname:n,username:r,password:c})}).then((function(e){return window.location.reload(!0)}))}({_id:m,firstname:h,lastname:g,username:y,password:x})}},"Update")),r.a.createElement(k,{className:"btn-danger",onClick:function(){return e=t,void fetch(A+"/delete-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}).then((function(e){return window.location.reload(!0)}));var e}},"Delete"))}var J=a(53),R=a.n(J),A="https://digiceipttest.herokuapp.com";function M(){return fetch("https://digiceipttest.herokuapp.com/get-user").then((function(e){return console.log(e),e.json()}))}function B(e){var t=Object(n.useState)(!0),a=Object(S.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)([]),o=Object(S.a)(l,2),s=o[0],i=o[1],u=Object(n.useState)(null),m=Object(S.a)(u,2),p=m[0],d=m[1];return Object(n.useEffect)((function(){(function(e){return fetch(A+"/userpage/list-user-receipt/"+e).then((function(e){return e.json()}))})(e).then((function(e){i(e.receipts),c(!1)})).catch((function(e){console.log(e),d(e),c(!1)}))}),[]),{loading:r,receipts:s,error:p}}function F(){return fetch("https://digiceipttest.herokuapp.com/get-receipt").then((function(e){return console.log(e),e.json()}))}function G(e){var t=e._id,a=e.category;if(t){if(a){return fetch("https://digiceipttest.herokuapp.com/update-receipt",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:t,category:a})}).then((function(e){400===e.status?alert("Update failed."):window.location.reload(!0)}))}alert("must include a category to update")}else alert("must include an id")}function W(e){fetch("https://digiceipttest.herokuapp.com/delete-receipt",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}).then((function(e){return window.location.reload(!0)}))}var H=function(e){Object(O.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state={path:"",redirectState:!1},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return!0===this.state.redirectState?r.a.createElement(s.a,{to:this.state.path}):r.a.createElement(y.a,{className:"home-form",onSubmit:function(t){return function(e,t){e.preventDefault();var a={username:document.getElementById("Username").value,password:document.getElementById("password").value};R.a.post("https://digiceipttest.herokuapp.com/user-login",a).then((function(e){if(console.log(e),console.log(e.data.length),e.data.length>0){var a="/personalpage/"+e.data[0]._id;t.setState({redirectState:!0,path:a})}else alert("Username or password is incorrect.")})).catch((function(e){alert("Error."),console.log(e)}))}(t,e)}},r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Control,{id:"Username",type:"user",placeholder:"Enter your User ID"})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Control,{id:"password",type:"password",placeholder:"Enter password"}),r.a.createElement(y.a.Text,{className:"text-muted"},"We'll never share your password with anyone else.")),r.a.createElement(w.a,{className:"home-button",variant:"primary",type:"submit"},"Submit"))}}]),a}(n.Component);function q(){return r.a.createElement("div",{className:"home-body"},r.a.createElement("h1",null,"Welcome to Digiceipt!"),r.a.createElement(m.a,{fluid:!0,className:"home-container"},r.a.createElement(p.a,{className:"mx-auto"},r.a.createElement(d.a,{sm:6,className:"home-header"},r.a.createElement("h1",{className:"home-h1"},"Manage your receipts easily from now on."),r.a.createElement("h5",null,"Digiceipt will always be your best friend to manage your receipts and keep track of your expenses.")),r.a.createElement(d.a,{sm:6,className:"home-header"},r.a.createElement(h.a,{className:"home-card"},r.a.createElement(f.a,{className:"receipt-logo",src:b.a,alt:"Logo",fluid:!0}),r.a.createElement(H,null))))))}function z(){var e=Object(n.useState)(""),t=Object(S.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(S.a)(l,2),s=o[0],i=o[1],u=Object(n.useState)(""),m=Object(S.a)(u,2),p=m[0],d=m[1],h=Object(n.useState)(""),f=Object(S.a)(h,2),E=f[0],b=f[1],g=Object(n.useState)(""),v=Object(S.a)(g,2),O=v[0],j=v[1];return r.a.createElement("div",{className:"addAuthor"},"Add New Receipt",r.a.createElement("form",null,r.a.createElement("input",{type:"text",placeholder:"BuyerID",name:"buyerID",value:a,onChange:function(e){c(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"Shop",name:"shop",value:s,onChange:function(e){i(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"Description",name:"description",value:p,onChange:function(e){d(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"Price",name:"price",value:E,onChange:function(e){b(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"Category",name:"category",value:O,onChange:function(e){j(e.target.value)}}),r.a.createElement(k,{className:"btn-success",onClick:function(){!function(e){var t=e.buyerID,a=e.shop,n=e.description,r=e.price,c=e.category;if(t&&a&&n&&r&&c){fetch("https://digiceipttest.herokuapp.com/create-receipt",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({buyerID:t,shop:a,description:n,price:r,category:c})}).then((function(e){400===e.status?alert("Cannot create this receipt."):window.location.reload(!0)}))}else alert("must include all fields")}({buyerID:a,shop:s,description:p,price:E,category:O})}},"Save")))}var K=function(e){Object(O.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state={error:null,isLoaded:!1,receipts:[]},n}return Object(v.a)(a,[{key:"fetchReceipts",value:function(){var e=Object(_.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:t=e.sent,this.setState({receipts:t,isLoaded:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchReceipts()}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoaded,n=e.receipts;return t?r.a.createElement("div",null,"Error: ",t.message):a?r.a.createElement("div",null,r.a.createElement(D.Table,{className:"receipt-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"buyerID"),r.a.createElement("th",{scope:"col"},"shop"),r.a.createElement("th",{scope:"col"},"description"),r.a.createElement("th",{scope:"col"},"price"),r.a.createElement("th",{scope:"col"},"category"),r.a.createElement("th",{scope:"col"},"Update category"))),r.a.createElement("tbody",null,n.map((function(e){return r.a.createElement(D.Tr,{active:!0,key:e._id},r.a.createElement("td",null,e.buyerID),r.a.createElement("td",null,e.shop),r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.Price),r.a.createElement("td",null,e.category),r.a.createElement("td",null,r.a.createElement(V,Object.assign({key:e._id},e))))}))))):r.a.createElement("div",null,"Loading...")}}]),a}(r.a.Component);function Q(){var e=function(){var e=Object(n.useState)(!0),t=Object(S.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),l=Object(S.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)(null),u=Object(S.a)(i,2),m=u[0],p=u[1];return Object(n.useEffect)((function(){F().then((function(e){s(e),r(!1)})).catch((function(e){console.log(e),p(e),r(!1)}))}),[]),{loading:a,receipts:o,error:m}}(),t=e.loading,a=e.receipts,c=e.error;return t?r.a.createElement("p",null,"Loading..."):c?r.a.createElement("p",null,"Something went wrong: ",c.message):(console.log(a),r.a.createElement("div",null,r.a.createElement("h1",null,"Receipt List"),r.a.createElement(z,null),r.a.createElement(K,null)))}function V(e){var t=e._id,a=Object(n.useState)(!1),c=Object(S.a)(a,2),l=c[0],o=c[1];return r.a.createElement("div",{className:"user user-".concat(t),key:t},r.a.createElement("div",{className:"info"},r.a.createElement(k,{className:"btn",onClick:function(){return o(!l)}},l?"-":"+")),r.a.createElement(X,Object.assign({},e,{showUpdate:l})))}function X(e){var t=e._id,a=e.shop,c=e.buyerID,l=e.description,o=e.Price,s=e.category,i=e.showUpdate,u=Object(n.useState)(t),m=Object(S.a)(u,2),p=m[0],d=(m[1],Object(n.useState)(a)),h=Object(S.a)(d,2),f=h[0],E=(h[1],Object(n.useState)(c)),b=Object(S.a)(E,2),g=b[0],v=(b[1],Object(n.useState)(l)),O=Object(S.a)(v,2),j=O[0],y=(O[1],Object(n.useState)(o)),w=Object(S.a)(y,2),N=w[0],C=(w[1],Object(n.useState)(s)),x=Object(S.a)(C,2),U=x[0],_=x[1];return r.a.createElement("div",{className:"author-expand ".concat(i?"show":"")},r.a.createElement("form",null,r.a.createElement("input",{type:"text",name:"category_input",value:U,onChange:function(e){_(e.target.value)}}),r.a.createElement(k,{className:"btn-warning",onClick:function(){G({_id:p,shop:f,buyerID:g,description:j,Price:N,category:U})}},"Update")),r.a.createElement(k,{className:"btn-danger",onClick:function(){return W(t)}},"Delete"))}function Y(){var e=window.location.pathname.split("/").pop();"personalpage"===e&&(e="");var t=B(e),a=t.loading,n=t.receipts,c=t.error;return a?r.a.createElement("p",null,"Loading..."):c?r.a.createElement("p",null,"Something went wrong: ",c.message):r.a.createElement("div",null,r.a.createElement("h1",null,"Receipts List"),r.a.createElement(z,null),n.map((function(e){return r.a.createElement(Z,Object.assign({key:e._id},e))})))}function Z(e){var t=e._id,a=e.shop,c=e.description,l=e.Price,o=e.category;console.log(e);var s=Object(n.useState)(!1),i=Object(S.a)(s,2),u=i[0],m=i[1];return r.a.createElement("div",{className:"receipt receipt-".concat(t),key:t},r.a.createElement("div",{className:"info"},"(",t,") ",a," ",c," ",l," ",o,r.a.createElement(k,{className:"btn",onClick:function(){return m(!u)}},u?"-":"+")),r.a.createElement($,Object.assign({},e,{showUpdate:u})))}function $(e){var t=e._id,a=e.category,c=e.showUpdate,l=Object(n.useState)(t),o=Object(S.a)(l,1)[0],s=Object(n.useState)(a),i=Object(S.a)(s,2),u=i[0],m=i[1];return r.a.createElement("div",{className:"author-expand ".concat(c?"show":"")},r.a.createElement("form",null,r.a.createElement("input",{type:"text",name:"category_input",value:u,onChange:function(e){m(e.target.value)}}),r.a.createElement(k,{className:"btn-warning",onClick:function(){G({_id:o,category:u})}},"Update")),r.a.createElement(k,{className:"btn-danger",onClick:function(){return W}},"Delete"))}function ee(){return r.a.createElement(o.a,null,r.a.createElement(i.a,null,r.a.createElement("title",null,"Digiceipt")),r.a.createElement("div",{className:"App"},r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/"},r.a.createElement(u,null),r.a.createElement(q,null)),r.a.createElement(s.b,{path:"/users"},r.a.createElement(u,null),r.a.createElement(L,null)),r.a.createElement(s.b,{path:"/receipts"},r.a.createElement(u,null),r.a.createElement(Q,null)),r.a.createElement(s.b,{path:"/personalpage"},r.a.createElement(u,null),r.a.createElement(Y,null)))))}l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee,null)),document.getElementById("root"))},26:function(e,t,a){},49:function(e,t,a){e.exports=a.p+"static/media/receipt-books.e61e4245.png"},59:function(e,t,a){e.exports=a(145)},64:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){}},[[59,1,2]]]);
//# sourceMappingURL=main.555afe31.chunk.js.map